<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>SORCERIAN Text</title>
<link rel="stylesheet" href="./stext/zoombox.css" />
<link rel="stylesheet" href="./stext/sgml.min.css" />
<style>#main { font-size: 16px; }</style>
<script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
<script src="./stext/zoombox.js"></script>
<script src="./stext/jquery.markdown.js"></script>
<script src="./stext/sgml.min.js"></script>
<script>
$(function() {
  //$('#main').startGame('scepter', true);
  //$('#main').startGame('zero', true);
  //$('#main').startGame('doll', true);
  //$('#main').startGame('tempest', true);
  //$('#main').startGame('hero', true);
  //$('#main').startGame('vampire', true);
  //$('#main').startGame('slayer', true);
  //$('#main').startGame('ramidia', true);
  //$('#main').startGame('trial', true);
  //$('#main').startGame('playground', true);
  $('#main').startGame('cat', true);

  $.get('./stext/stext.xml').done(function(data) {
    $('scenario > work, utility > work[backup]', data).each(function() { 
      $('#scenario').append(
        $('<option></option>').
          attr('value', $(this).attr('id')).
          text($(this).attr('title'))
      );
    }); 
  }).fail(function(xhr, status, err) {
    console.log(err);
  });

  // ストレージデータのバックアップ／リストア（テスト用）
  $('#backup').backupData('#scenario');
  $('#restore').restoreData();
});
</script>
</head>
<body>
<div id="main">
  SGML（Sorcerian Gamebook Markup Language） Initialized...
</div>
<div style="text-align: center;">
  <select id="scenario">
    <option value="all">全シナリオデータ</option>
    <option value="sorcerian_text">基本情報（実績／ボーナス）</option>
  </select>
  <input type="button" id="backup" value="バックアップ" />／
  <input type="file" id="restore" accept=".stext" value="リストア" />
</div>
</body>
</html>
