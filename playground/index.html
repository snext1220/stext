<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<link rel="shortcut icon" href="https://www.web-deli.com/sorcerian/text/image/favicon.ico" />
<title>SORCERIAN Text Playground</title>
<!--vis.js-->
<link rel="stylesheet" href="./css/vis-network.min.css" />
<!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis-network.min.css" /> -->
<!--SlickGrid-->
<link rel="stylesheet" href="./lib/slick/slick.grid.css" />
<!--jQuery UI-->
<link rel="stylesheet" href="css/jquery-ui.min.css" />
<!-- <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/redmond/jquery-ui.css"> -->
<!--Other-->
<link rel="stylesheet" href="css/jquery.sidr.light.min.css" />
<!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/jquery.sidr/2.2.1/stylesheets/jquery.sidr.light.min.css" /> -->
<link rel="stylesheet" href="css/toastr.min.css" />
<!-- <link rel="stylesheet" href="css/jquery.tagsinput-revisited.css" /> -->
<!-- <link rel="stylesheet" href="css/jquery.splitter.css" /> -->
<link rel="stylesheet" href="./lib/slick/examples.css" />
<!--Playground-->
<link rel="stylesheet" href="css/playground.css" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-3S9L1E9YLJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-3S9L1E9YLJ');
</script>
</head>
<body>
<div id="control">
  <a href="https://web-deli.com/sorcerian/text/" target="_blank">
    <img src="../stext/common/pg_logo.png"
      alt="ソーサリアン Text" height="100%" />
  </a>
  <span class="pg_command">
    <img id="ctrl_run" src="../stext/common/pg_run.png" title="シナリオを実行" />
    <img id="ctrl_filter" src="../stext/common/pg_filter.png" title="表示シーンを絞り込み" />
    <img id="ctrl_tag" src="../stext/common/pg_tag.png" title="カーソル位置にタグを追加" />
    <img id="ctrl_flow2editor" src="../stext/common/pg_f2e.png" title="PgEditorで編集" />
    <img id="ctrl_shuffle" src="../stext/common/pg_shuffle.png" title="シーンidをシャッフル" />｜
    <!-- <img id="ctrl_addscene" src="../stext/common/pg_scene.png" title="シーンを追加" />｜
    +
    <input id="ctrl_incre" type="number" min="1" value="10" />｜ -->
    <img id="ctrl_import" src="../stext/common/pg_import.png" title="シナリオをインポート" />
    <img id="ctrl_dl" src="../stext/common/pg_dl.png" title="シナリオを保存" />
    <img id="ctrl_help" src="../stext/common/pg_help.png" title="マニュアルを参照" />
    <img id="ctrl_post" src="../stext/common/pg_post.png" title="シナリオを投稿" />
  </span>
  ｜<select id="ctrl_template">
    <option value="">テンプレートを選択</option>
    <optgroup label="基本">
      <option value="empty.json">空のテンプレート</option>
      <option value="sample5.json">シンプルサンプル</option>
      <option value="storage">マイストレージ</option>
    </optgroup>
    <optgroup label="短編テンプレート">
      <option value="mini15.json">15sceneサンプル（説明あり）</option> 
      <option value="sample20.json">20sceneサンプル（簡易版）</option>
      <option value="bakumatsu.json">幕末ソーサリアン</option>
      <option value="dragon.json">ドラゴンモード例</option>
      <option value="function.json">機能テスト</option>  
    </optgroup>
    <optgroup label="実践サンプル">
      <option value="@scepter">新・消えた王さまの杖</option>
      <option value="@inn">トラベラーズ☆イン</option>
      <option value="@begin">終焉のゼロ</option>
      <option value="@usher">導きソーサリアン</option>
      <option value="@baku01">黒船来航（幕末序章）</option>
    </optgroup>    
    </select>
    <input id="ctrl_load" type="file" accept=".json,.xml" />
  <select id="ctrl_scene">
    <option value="">編集するシーンを選択</option>
  </select>
  <img id="ctrl_config" src="../stext/common/pg_config.png" title="PgFlow設定" />
  <!-- <button id="ctrl_level" type="button">TEST</button> -->
</div>
<div id="main" class="clearfix">
  <div id="flow-area"></div>
  <div id="edit-area">
    <ul>
      <li><a href="#basic">基本</a></li>
      <li><a href="#groups">グループ</a></li>
      <li><a href="#items">アイテム</a></li>
      <li><a href="#flags">フラグ</a></li>
      <li><a href="#params">内部パラ</a></li>
      <li><a href="#enemies">敵</a></li>
      <li><a href="#results">実績</a></li>
      <li><a href="#works">ライセンス</a></li>
      <li><a href="#scene">シーン</a></li>
      <li><a href="#edge">リンク</a></li>
    </ul>
    <div id="basic" class="tab-panel">
      <form>
        <fieldset>
          <legend>基本情報</legend>
          <label data-help="scenario/title">タイトル：
            <input id="title" type="text" size="25" /></label>
          <label data-help="scenario/author">作者：
            <input id="author" type="text" size="15" /></label>
        </fieldset>
        <fieldset>
          <legend>共通動作</legend>
          <label data-help="init/basic/summary">パラグラフレス：
            <input id="basic-summary" type="checkbox" value="true" /></label>
          <label data-help="init/basic/imgset">自作キャラ画像：
            <input id="basic-imgset" type="checkbox" value="custom" /></label> 
        </fieldset>
        <fieldset>
          <legend>キャラ制約</legend>
            <label data-help="init/constraint/race">種族：
              <input id="constraint-race" type="text" size="28" /></label>
            <label data-help="init/constraint/sex">性別：
              <input id="constraint-sex" type="text" size="15" /></label>
            <p></p>
            <label data-help="init/constraint/age">年齢：
              <input id="constraint-age" type="text" size="20" /></label>
        </fieldset>
        <fieldset>
          <legend>BGM（<a href="https://soundcloud.com/venus-az/sets/sorcerian-text-original-sounds/s-2tzI5" target="help">標準BGMリスト</a>）
            （<a href="https://soundcloud.com/az2nd/sets/sorcerian-text-original-soundtrack/s-NrBqCSP9vPF" target="help">リスト2</a>）</legend>
          <label data-help="init/bgm/main">main：
            <input id="bgm-main" type="text" size="10" /></label>
            <input id="bgm-main-file" type="file" accept=".mp3" class="hidden-file no-update" />
            <button id="bgm-main-ref" type="button">参照</button>
          <label data-help="init/bgm/happy">happy：
            <input id="bgm-happy" type="text" size="10" /></label>
            <input id="bgm-happy-file" type="file" accept=".mp3" class="hidden-file no-update" />
            <button id="bgm-happy-ref" type="button">参照</button>
          <label data-help="init/bgm/bad">bad：
            <input id="bgm-bad" type="text" size="10" /></label>
            <input id="bgm-bad-file" type="file" accept=".mp3" class="hidden-file no-update" />
            <button id="bgm-bad-ref" type="button">参照</button>
        </fieldset>
        <fieldset>
          <legend>表示ラベル</legend>
            <label data-help="init/label/status">HP：
              <input id="label-hp" type="text" size="15" /></label>
            <label data-help="init/label/status">MP：
              <input id="label-mp" type="text" size="15" /></label>
            <label data-help="init/label/status">STATE：
              <input id="label-state" type="text" size="15" /></label>
            <p></p>
            <label data-help="init/label/status">STR：
              <input id="label-str" type="text" size="10" /></label>
            <label data-help="init/label/status">INT：
              <input id="label-int" type="text" size="10" /></label>
            <label data-help="init/label/status">DEX：
              <input id="label-dex" type="text" size="10" /></label>
            <label data-help="init/label/status">KRM：
              <input id="label-krm" type="text" size="10" /></label>
            <p></p>
            <label data-help="init/label/free">Free1：
              <input id="label-free1" type="text" size="15" /></label>
            <label data-help="init/label/free">free2：
              <input id="label-free2" type="text" size="15" /></label>
            <label data-help="init/label/free">free3：
              <input id="label-free3" type="text" size="15" /></label>
        </fieldset>
        <fieldset>
          <legend>Twitter</legend>
          <label data-help="init/intro/keywords">キーワード：
            <input id="intro-keywords" type="text" size="15" /></label>
          <p></p>
          <label data-help="init/intro/keywords">紹介文：
            <input id="intro-description" type="text" size="60" /></label>
        </fieldset>
      </form>
    </div>
    <div id="groups" class="tab-panel">
      <p>グループ情報を入力してください（タイトル行のダブルクリックでヘルプを表示します）。</p>
      <div id="groups_grid" class="config-grid"></div>
    </div>
    <div id="items" class="tab-panel">
      <p>アイテム情報を入力してください（タイトル行のダブルクリックでヘルプを表示します）。</p>
      <div id="items_grid" class="config-grid"></div>
    </div>
    <div id="flags" class="tab-panel">
      <p>フラグ情報を入力してください（タイトル行のダブルクリックでヘルプを表示します）。</p>
      <div id="flags_grid" class="config-grid"></div>
    </div>
    <div id="params" class="tab-panel">
      <p>内部パラメーター情報を入力してください（タイトル行のダブルクリックでヘルプを表示します）。</p>
      <div id="params_grid" class="config-grid"></div>
    </div>
    <div id="enemies" class="tab-panel">
      <p>敵／罠情報を入力してください（タイトル行のダブルクリックでヘルプを表示します）。</p>
      <div id="enemies_grid" class="config-grid"></div>
    </div>
    <div id="results" class="tab-panel">
      <p>実績情報を入力してください（タイトル行のダブルクリックでヘルプを表示します）。</p>
      <div id="results_grid" class="config-grid"></div>
    </div>
    <div id="works" class="tab-panel">
      <p>ライセンス情報を入力してください（タイトル行のダブルクリックでヘルプを表示します）。</p>
      <div id="works_grid" class="config-grid"></div>
    </div>
    <div id="scene" class="tab-panel">
      <!--<div id="scene_unselect">
        <p>フローから対象のシーンを選択してください。</p>
      </div>-->
      <div id="scene-select">
        <div id="scene-editor"></div>
        <div id="scene-view">
          <button id="scene-ext" type="button">エディター領域を拡げる</button>｜
          <button id="scene-addscene" type="button">シーンを追加</button>　
          <button id="scene-delscene" type="button" class="delaction">現在のシーンを削除</button>
          <img class="dynamic_help" src="../stext/common/pg_help_sub.png" data-help="scene/text" />  
        </div>
        <div id="scene-attr">
          <form>
            <fieldset>
              <legend>基本</legend>
              <label data-help="scene/id">id：
                <input id="id" type="text" size="3" disabled readonly />
                <button id="scene-changescene" type="button">変更</button>
                <!-- <span id="id"></span> -->
                &nbsp;&nbsp;</label>
              <label data-help="scene/summary">サマリー：
                <input id="summary" type="text" class="wide" size="30" /></label>
              <label data-help="scene/end">End：
                <select id="end">
                  <option value=""></option>
                  <option value="happy">happy</option>
                  <option value="bad">bad</option>
                </select></label>
              <p></p>
              <label data-help="scene/items">アイテム：
                  <input id="items" type="text" class="tagsin" size="15" /></label>
              <label data-help="scene/flags">フラグ：
                <input id="flags" type="text" size="15" /></label>
              <label data-help="scene/params">内部パラ：
                <input id="params" type="text" size="15" /></label>
              <p></p>
              <label data-help="scene/enemies">敵：
                <input id="enemies" type="text" size="15" /></label> 
              <label data-help="scene/dice">ダイス：
                <input id="dice" type="text" size="15" /></label> 
                <label data-help="scene/result">実績：
                  <input id="result" type="text" size="15" /></label> 
              <p></p>
              <label data-help="scene/nexts">次シナリオ：
                <input id="nexts" type="text" size="10" /></label> 
              <label data-help="scene/rule">戦闘ルール：
                  <input id="rule" type="text" size="10" /></label> 
              <p></p>
              <label>リンク：
                <select id="edges-list" class="no-update"></select>
              </label>
              <button id="scene-addedge" type="button">追加</button>
              <button id="scene-sortlink" type="button">並べ替え</button>
              <!-- <button id="scene-addscene" type="button">シーン追加</button> -->
            </fieldset>
            <fieldset>
              <legend>楽曲（<a href="https://soundcloud.com/venus-az/sets/sorcerian-text-original-sounds/s-2tzI5" target="help">標準BGMリスト</a>）
                （<a href="https://soundcloud.com/az2nd/sets/sorcerian-text-original-soundtrack/s-NrBqCSP9vPF" target="help">リスト2</a>）</legend>
              <label data-help="scene/bgm">BGM：
                  <input id="bgm" type="text"  class="wide" size="15" /></label>
                  <input id="bgm-file" type="file" accept=".mp3" class="hidden-file no-update" />
                  <button id="bgm-ref" type="button">参照</button>
              <label data-help="scene/se">効果音：
                <input id="se" type="text"  class="wide" size="15" /></label>
                <input id="se-file" type="file" accept=".mp3" class="hidden-file no-update" />
                  <button id="se-ref" type="button">参照</button>
            </fieldset>
            <fieldset>
              <legend>ステータス</legend>
              <label data-help="scene/hp_mp">HP：
                <input id="hp" type="text" class="ac" size="10" /></label>
              <label data-help="scene/hp_mp">MP：
                <input id="mp" type="text" class="ac" size="10" /></label>
              <label data-help="scene/stars">STARS：
                <input id="stars" type="text" class="ac" size="10" /></label>
              <label data-help="scene/state">STATE：
                <select id="state">
                  <option value=""></option>
                  <option value="poison">poison</option>
                  <option value="frozen">frozen</option>
                  <option value="stone">stone</option>
                  <option value="curse">curse</option>
                  <option value="forget">forget</option>
                  <option value="-poison">-poison</option>
                  <option value="-frozen">-frozen</option>
                  <option value="-stone">-stone</option>
                  <option value="-curse">-curse</option>
                  <option value="-forget">-forget</option>
                  <option value="-all">-all</option>
                </select>  
              </label>
              <p></p>
              <label data-help="scene/status">STR：
                <input id="str" type="text" class="ac" size="10" /></label>
              <label data-help="scene/status">INT：
                <input id="int" type="text" class="ac" size="10" /></label>
              <label data-help="scene/status">DEX：
                <input id="dex" type="text" class="ac" size="10" /></label>
              <label data-help="scene/status">KRM：
                <input id="krm" type="text" class="ac" size="10" /></label>  
              <p></p>
              <label data-help="scene/free">FREE1：
                <input id="free1" type="text" class="ac" size="10" /></label>
              <label data-help="scene/free">FREE2：
                <input id="free2" type="text" class="ac" size="10" /></label>
              <label data-help="scene/free">FREE3：
                <input id="free3" type="text" class="ac" size="10" /></label>
            </fieldset>
            <fieldset>
              <legend>その他</legend>
              <label data-help="scene/fixed">シャッフル除外：
                <input id="fixed" type="checkbox" value="fixed" /></label>
              <label data-help="scene/exclude">共通インポートの無効化：
                <input id="exclude" type="checkbox" value="true" /></label>
              <label data-help="scene/color">背景色：
                  <select id="color"></select></label>
            </fieldset>
            <!-- <p>
              <button id="scene-addscene" type="button">シーンを追加</button>　
              <button id="scene-delscene" type="button" class="delaction">現在のシーンを削除</button>
            </p> -->
            
            <!--
            <fieldset>
              <legend>ステータス（上限値）</legend>
              <label>HP_MAX：
                <input id="hp_max" type="text" class="ac" size="10" /></label>
              <label>MP_MAX：
                <input id="mp_max" type="text" class="ac" size="10" /></label>
              <label>STR_MAX：
                <input id="str_max" type="text" class="ac" size="10" /></label>
              <p></p>
              <label>INT_MAX：
                <input id="int_max" type="text" class="ac" size="10" /></label>
              <label>DEX_MAX：
                <input id="dex_max" type="text" class="ac" size="10" /></label>
              <label>KRM_MAX：
                <input id="krm_max" type="text" class="ac" size="10" /></label>
            </fieldset>
            -->
          </form>
        </div>
      </div>
    </div>
    <div id="edge">
      <p>リンク（Edge）を編集します。</p>
      <input id="id" type="hidden" />
      <fieldset>
        <legend>基本</legend>
        <label>from：
          <input id="from" type="text" size="6" />&nbsp;～&nbsp;</label>
        <label>to：
          <input id="to" type="text" size="6" /></label>
        <label>表示順序：
          <input id="order" type="text" size="3" /></label>  
        <p></p>
        <label>キャプション：
          <input id="label" type="text" size="30" /></label>
        <p></p>
        <label>条件式：
          <input id="condition" type="text" size="25" /></label>
        <img class="dynamic_help" src="../stext/common/pg_help_sub.png" data-help="scene/edge_flow" />
      </fieldset>
      <fieldset>
        <legend>特殊</legend>
        <label>種別：
          <select id="type">
            <option value="">標準</option>
            <option value="R">ランダム</option>
            <option value="X">自由移動</option>
            <option value="Q">テキスト入力</option>
          </select>
        </label>
        <label>正解文字列（テキスト入力のみ）：
          <input id="correct" type="text" size="10" /></label>
        <p></p>
        <label>キャッシュ期限（ランダムリンクのみ・日）：
          <input id="cache" type="text" size="5" /></label>
        <p>
          <ul>
            <li>「標準」以外のリンクは、リンク先の数だけEdgeを設置します。</li>
            <li>ランダムリンクのラベル／条件式はひとつだけが認識されます。</li>
            <li>正解文字列は正解リンクに指定してください。</li>
          </ul>
        </p>
      </fieldset>

      <p>
        <button id="edge-deledge" type="button" class="delaction">現在のリンクを削除</button>
      </p>
    </div>
  </div>
</div>
<div id="footer">
  <address>Developed by SORCERIAN Text Team. 2017-</address>
</div>

<!--サイドパネル（リンクソート）-->
<div id="sidr_sorts" class="mysidr">
  <ul id="sidr_sorts_list"></ul>
  <div id="sidr_sorts_submit" class="sidr-btn sidr-ok">確定</div>
  <div id="sidr_sorts_close" class="sidr-btn">閉じる</div>
</div>

<!--サイドパネル（シーン複数）-->
<div id="sidr_scenes" class="mysidr">
  <div id="sidr_scenes_submit" class="sidr-btn sidr-ok btn-lead">確定</div>
  <div id="sidr_scenes_close" class="sidr-btn btn-lead">閉じる</div>
  <ul id="sidr_scenes_list"></ul>
  <div id="sidr_scenes_submit" class="sidr-btn sidr-ok">確定</div>
  <div id="sidr_scenes_close" class="sidr-btn">閉じる</div>
</div>

<!--サイドパネル（シーン単数）-->
<div id="sidr_scene" class="mysidr">
  <div id="sidr_scene_submit" class="sidr-btn sidr-ok btn-lead">確定</div>
  <div id="sidr_scene_close" class="sidr-btn btn-lead">閉じる</div>
  <ul id="sidr_scene_list"></ul>
  <div id="sidr_scene_submit" class="sidr-btn sidr-ok">確定</div>
  <div id="sidr_scene_close" class="sidr-btn">閉じる</div>
</div>

<!--サイドパネル（シーンfrom）-->
<div id="sidr_fscene" class="mysidr">
  <div id="sidr_fscene_submit" class="sidr-btn sidr-ok btn-lead">確定</div>
  <div id="sidr_fscene_close" class="sidr-btn btn-lead">閉じる</div>
  <ul id="sidr_fscene_list"></ul>
  <div id="sidr_fscene_submit" class="sidr-btn sidr-ok">確定</div>
  <div id="sidr_fscene_close" class="sidr-btn">閉じる</div>
</div>

<!--サイドパネル（シーンto）-->
<div id="sidr_tscene" class="mysidr">
  <div id="sidr_tscene_submit" class="sidr-btn sidr-ok btn-lead">確定</div>
  <div id="sidr_tscene_close" class="sidr-btn btn-lead">閉じる</div>
  <ul id="sidr_tscene_list"></ul>
  <div id="sidr_tscene_submit" class="sidr-btn sidr-ok">確定</div>
  <div id="sidr_tscene_close" class="sidr-btn">閉じる</div>
</div>


<!--サイドパネル（種族）-->
<div id="sidr_races" class="mysidr">
  <ul id="sidr_races_list">
    <li>
      <label>FIGHTER<input type="checkbox"
        class="sidr-race-item" value="FIGHTER" /></label>
    </li>
    <li>
      <label>WIZARD<input type="checkbox"
        class="sidr-race-item" value="WIZARD" /></label>
    </li>
    <li>
      <label>DWARF<input type="checkbox"
        class="sidr-race-item" value="DWARF" /></label>
    </li>
    <li>
      <label>ELF<input type="checkbox"
        class="sidr-race-item" value="ELF" /></label>
    </li>  
  </ul>
  <div id="sidr_races_submit" class="sidr-btn sidr-ok">確定</div>
  <div id="sidr_races_close" class="sidr-btn">閉じる</div>
</div>

<!--サイドパネル（年齢）-->
<div id="sidr_ages" class="mysidr">
  <ul id="sidr_ages_list">
    <li>
      <label>YOUNG<input type="checkbox"
        class="sidr-age-item" value="YOUNG" /></label>
    </li>
    <li>
      <label>ADULT<input type="checkbox"
        class="sidr-age-item" value="ADULT" /></label>
    </li>
    <li>
      <label>OLD<input type="checkbox"
        class="sidr-age-item" value="OLD" /></label>
    </li>
  </ul>
  <div id="sidr_ages_submit" class="sidr-btn sidr-ok">確定</div>
  <div id="sidr_ages_close" class="sidr-btn">閉じる</div>
</div>

<!--サイドパネル（性別）-->
<div id="sidr_sexes" class="mysidr">
  <ul id="sidr_sexes_list">
    <li>
      <label>MALE<input type="checkbox"
        class="sidr-sex-item" value="MALE" /></label>
    </li>
    <li>
      <label>FEMALE<input type="checkbox"
        class="sidr-sex-item" value="FEMALE" /></label>
    </li>
  </ul>
  <div id="sidr_sexes_submit" class="sidr-btn sidr-ok">確定</div>
  <div id="sidr_sexes_close" class="sidr-btn">閉じる</div>
</div>

<!--サイドパネル（グループ）-->
<div id="sidr_groups" class="mysidr">
  <ul id="sidr_groups_list"></ul>
  <div id="sidr_groups_submit" class="sidr-btn sidr-ok">再表示</div>
  <div id="sidr_groups_close" class="sidr-btn">閉じる</div>
</div>

<!--サイドパネル（アイテム）-->
<div id="sidr_items" class="mysidr">
  <table id="sidr_items_list"></table>
  <div id="sidr_items_submit" class="sidr-btn sidr-ok">確定</div>
  <div id="sidr_items_close" class="sidr-btn">閉じる</div>
</div>

<!--サイドパネル（フラグ）-->
<div id="sidr_flags" class="mysidr">
  <table id="sidr_flags_list"></table>
  <div id="sidr_flags_submit" class="sidr-btn sidr-ok">確定</div>
  <div id="sidr_flags_close" class="sidr-btn">閉じる</div>
</div>

<!--サイドパネル（param）-->
<div id="sidr_params" class="mysidr">
  <ul id="sidr_params_list"></ul>
  <div id="sidr_params_submit" class="sidr-btn sidr-ok">確定</div>
  <div id="sidr_params_close" class="sidr-btn">閉じる</div>
</div>

<!--サイドパネル（敵）-->
<div id="sidr_enemies" class="mysidr">
  <ul id="sidr_enemies_list"></ul>
  <div id="sidr_enemies_submit" class="sidr-btn sidr-ok">確定</div>
  <div id="sidr_enemies_close" class="sidr-btn">閉じる</div>
</div>

<!--サイドパネル（実績）-->
<div id="sidr_results" class="mysidr">
  <ul id="sidr_results_list"></ul>
  <div id="sidr_results_submit" class="sidr-btn sidr-ok">確定</div>
  <div id="sidr_results_close" class="sidr-btn">閉じる</div>
</div>

<!--サイドパネル（次シナリオ）-->
<div id="sidr_nexts" class="mysidr">
  <ul id="sidr_nexts_list"></ul>
  <div id="sidr_nexts_submit" class="sidr-btn sidr-ok">確定</div>
  <div id="sidr_nexts_close" class="sidr-btn">閉じる</div>
</div>

<!--サイドパネル（移動ボタン）-->
<div id="sidr_links" class="mysidr">
  <button type="button" value="&amp;">&amp;（and）</button>
  <button type="button" value="|">|（or）</button>
  <button type="button" value="!">!（not）</button>

  <table id="sidr_links_list">
    <tr>
      <th>フラグ</th>
      <td>
        <select id="sidr_links_flag">
          <option>フラグを選択</option>
        </select>
      </td>
    </tr>
    <tr>
      <th>PARAM</th>
      <td>
        <select id="sidr_links_param">
          <option>パラメーターを選択</option>
        </select>
      </td>
    </tr>
    <tr>
      <th>ITEM</th>
      <td>
        <select id="sidr_links_item">
          <option>アイテムを選択</option>
        </select>
      </td>
    </tr>
    <tr>
      <th>魔法</th>
      <td>
        <select id="sidr_links_magic">
          <option>魔法を選択</option>
          <option value="mHEAL">HEAL</option>
          <option value="mPEACE">PEACE</option>
          <option value="mCURE">CURE</option>
          <option value="mMELT">MELT</option>
          <option value="mSTONE-FLESH">STONE-FLESH</option>
          <option value="mUN-CURCE">UN-CURCE</option>
          <option value="mAIR-HAND">AIR-HAND</option>
          <option value="mRESURRECT">RESURRECT</option>
          <option value="mREDUCE-LIFE">REDUCE-LIFE</option>
          <option value="mREJUVENATE">REJUVENATE</option>
          <option value="mPROTECT">PROTECT</option>
          <option value="mHOLY-WATER">HOLY-WATER</option>
          <option value="mCHANGE-AIR">CHANGE-AIR</option>
          <option value="mGIVE-VIGOR">GIVE-VIGOR</option>
          <option value="mEXPLOSION">EXPLOSION</option>
          <option value="mDELUGE">DELUGE</option>
          <option value="mFREEZE">FREEZE</option>
          <option value="mDESTROY-A">DESTROY-A</option>
          <option value="mLIGHT-CROSS">LIGHT-CROSS</option>
          <option value="mNOILA-TEM">NOILA-TEM</option>
        </select>
      </td>
    </tr>
    <tr>
      <th>STATUS</th>
      <td>
        <select id="sidr_links_status">
          <option>ステータスを選択</option>
          <option value="oHP5+">HP</option>
          <option value="oMP5+">MP</option>
          <option value="oSTR5+">STR</option>
          <option value="oINT5+">INT</option>
          <option value="oDEX5+">DEX</option>
          <option value="oKRM5+">KRM</option>
          <option value="oFreeI5+">FREE1</option>
          <option value="oFreeII5+">FREE2</option>
          <option value="oFreeIII5+">FREE3</option>
        </select>
      </td>
    </tr>
    <tr>
      <th>基本</th>
      <td>
        <select id="sidr_links_basic">
          <option>基本情報を選択</option>
          <optgroup label="種族">
            <option value="xFIGHTER">FIGHTER</option>
            <option value="xWIZARD">WIZARD</option>
            <option value="xDWARF">DWARF</option>
            <option value="xELF">ELF</option>
          </optgroup>
          <optgroup label="性別">
            <option value="xMALE">MALE</option>
            <option value="xFEMALE">FEMALE</option>
          </optgroup>
          <optgroup label="年齢帯">
            <option value="xYOUNG">YOUNG</option>
            <option value="xADULT">ADULT</option>
            <option value="xOLD">OLD</option>
          </optgroup>
          <optgroup label="状態異常">
            <option value="xPOISON">POISON</option>
            <option value="xFROZEN">FROZEN</option>
            <option value="xSTONE">STONE</option>
            <option value="xCURSE">CURSE</option>
            <option value="xFORGET">FORGET</option>
          </optgroup>
          <optgroup label="経過シーン">
            <option value="e99">シーン数以上</option>
          </optgroup>
          <optgroup label="職業">
            <option value="xのうふ">のうふ</option>
            <option value="xれんきんじゅつ">れんきんじゅつ</option>
            <option value="xようへい">ようへい</option>
            <option value="xうらないし">うらないし</option>
            <option value="xこうふ">こうふ</option>
            <option value="xどろぼう">どろぼう</option>
            <option value="xそうりょ">そうりょ</option>
            <option value="xしょうにん">しょうにん</option>
            <option value="xせんいん">せんいん</option>
            <option value="xとうし">とうし</option>
            <option value="xどうけし">どうけし</option>
            <option value="xかじや">かじや</option>
            <option value="xきこり">きこり</option>
            <option value="xかりうど">かりうど</option>
            <option value="xきとうし">きとうし</option>
            <option value="xあくまばらい">あくまばらい</option>
            <option value="xせんきょうし">せんきょうし</option>
            <option value="xいしゃ">いしゃ</option>
            <option value="xかんごふ">かんごふ</option>
            <option value="xぱんや">ぱんや</option>
            <option value="xりょうし">りょうし</option>
            <option value="xだいく">だいく</option>
            <option value="xちょうこくか">ちょうこくか</option>
            <option value="xおりこ">おりこ</option>
            <option value="xすみやき">すみやき</option>
            <option value="xコック">コック</option>
            <option value="xスパイ">スパイ</option>
            <option value="xぼくどう">ぼくどう</option>
            <option value="xようじんぼう">ようじんぼう</option>
            <option value="xぎんゆうしじん">ぎんゆうしじん</option>
            <option value="xぎょしゃ">ぎょしゃ</option>
            <option value="xはかもり">はかもり</option>
            <option value="xしゃほん">しゃほん</option>
            <option value="xこなひき">こなひき</option>
            <option value="xかせいふ">かせいふ</option>
            <option value="xおどりこ">おどりこ</option>
            <option value="xはなや">はなや</option>
            <option value="xいしく">いしく</option>
            <option value="xかみゆい">かみゆい</option>
            <option value="xしたてや">したてや</option>
            <option value="xいとつむぎ">いとつむぎ</option>
            <option value="xうたうたい">うたうたい</option>
            <option value="xかみすき">かみすき</option>
            <option value="xつうやく">つうやく</option>
            <option value="xやくざいし">やくざいし</option>
            <option value="xほねさいくし">ほねさいくし</option>
            <option value="xわたしもり">わたしもり</option>
            <option value="xやくそうとり">やくそうとり</option>
            <option value="xそうぎや">そうぎや</option>
            <option value="xワインづくり">ワインづくり</option>
            <option value="xこじき">こじき</option>
            <option value="xちょうきょうし">ちょうきょうし</option>
            <option value="xほうせきさいくし">ほうせきさいくし</option>
            <option value="xかごづくり">かごづくり</option>
            <option value="xかぎや">かぎや</option>
            <option value="xくつし">くつし</option>
            <option value="xはくせいづくり">はくせいづくり</option>
            <option value="xゆみし">ゆみし</option>
            <option value="xチーズづくり">チーズづくり</option>
            <option value="xさんば">さんば</option>
          </optgroup>
        </select>
      </td>
    </tr>
    <tr>
      <th>FUNCS</th>
      <td>
        <select id="sidr_links_func">
          <option value="">関数を選択</option>
          <option value="fn:rand(per)">fn:rand</option>
          <option value="fn:include(num,key,...)">fn:include</option>
          <option value="fn:range(key,min,max)">fn:range</option>
          <option value="fn:cycle(num,div,index)">fn:cycle</option>
        </select>
      </td>
    <tr>
      <th>STARS</th>
      <td>
        <select id="sidr_links_star">
          <option value="">星を選択</option>
          <option value="s0:0:0:0:0:0:0">各星の数</option>
          <option value="s0">星の総数</option>
        </select>
      </td>
    </tr>
    <tr>
      <th>実績</th>
      <td>
        <select id="sidr_links_result_s" class="no-update">
         <option>シナリオ名を選択</option>
        </select>
        <select id="sidr_links_result">
          <option>シナリオを先に選択</option>
        </select>
      </td>
    </tr>
  </table>
  <textarea id="sidr_links_cond" rows="10"></textarea>
  <div id="sidr_links_submit" class="sidr-btn sidr-ok">確定</div>
  <div id="sidr_links_close" class="sidr-btn">閉じる</div>
</div>

<!--ダイアログ（ヘルプ）-->
<div id="help-dialog" title="Help">
  <div id="help-body">
  </div>
  <ul id="related-help">
  </ul>
</div>

<!--ダイアログ（設定）-->
<div id="pg-config" title="Configuration">
  <div>
    <label>作者名：<br />
      <input id="config-author" type="text" size="10" /></label>
  </div>
  <div>
    <label>フローチャート表示モード（未実装）：<br />
      <select id="config-disp">
        <option value="auto">自動整形</option>
        <option value="manual">手動整形</option>
      </select>
    </label>
  </div>
  <div>
    <label>シーンidの増分値：<br />
      <input id="config-incre" type="number" size="5" /></label>
  </div>
</div>

<!--ダイアログ（シーン）-->
<div id="scene-dialog" title="Add Scene">
  <div>
    <label>id：<br />
      <input id="node-id" type="text" size="5" /></label>
  </div>
  <div>
    <label>サマリー：<br />
      <input id="node-summary" type="text" size="20" /></label>
  </div>
  <p>
    <input id="node-add" type="button" value="追加" />
    <input id="node-cancel" type="button" value="キャンセル" />
  </p>
</div>

<!--ダイアログ（リンク付きシーン）-->
<div id="scene-dialog-link" title="Add Scene With Link">
  <div>
    <label>id：<br />
      <input id="node-link-id" type="text" size="5" /></label>
  </div>
  <div>
    <label>サマリー：<br />
      <input id="node-link-summary" type="text" size="20" /></label>
  </div>
  <div>
    <label>リンクテキスト：<br />
      <input id="node-link-caption" type="text" size="20" /></label>
  </div>
</div>

<!--ダイアログ（Scene Id変更）-->
<div id="scene-change-dialog" title="Change Scene Id">
  <div>
    <label>id（Old）：<br />
      <input id="old-id" type="text" size="5" disabled/></label>
  </div>
  <div>
    <label>id（New）：<br />
      <input id="new-id" type="text" size="5" /></label>
  </div>
</div>

<!--ダイアログ（リンク）-->
<div id="edge-dialog" title="Add Link">
  <div>
    <label>id：<br />
      <span id="from-id"></span> ->
      <input id="to-id" type="text" size="5" /></label>
  </div>
  <div>
    <label>キャプション：<br />
      <input id="edge-caption" type="text" size="20" /></label>
  </div>
  <hr />
  <div>
    <label>種別：<br />
      <select id="edge-kind">
        <option value="">通常</option>
        <option value="R">ランダム</option>
        <option value="X">自由移動</option>
        <option value="Q">テキスト入力</option>
      </select>
    </label>
  </div>
  <div>
    <label>追加情報：<br />
      <input id="edge-add" type="text" size="25" /></label>
  </div>  
  <div>
    <label>正解文字列（テキスト入力のみ）：<br />
      <input id="edge-correct" type="text" size="20" /></label>
  </div>
</div>

<!--ダイアログ（範囲）-->
<div id="range-dialog" title="Filter Range">
  <p>フローチャートを指定範囲で絞りこみます。</p>
  <div>
    <label>表示するScene：
    <input id="range-from" type="text" size="5" value="0" />～
    <input id="range-to" type="text" size="5" value="99999" />
    </label>
  </div>
  <!--
  <p>
    <input id="range-run" type="button" value="絞り込み" />
    <input id="range-cancel" type="button" value="キャンセル" />
  </p>
  -->
</div>

<!--ダイアログ（EPUBファイル）-->
<div id="epub-dialog" title="About .txt file">
  <p>.txt形式は<a href="https://conv.denshochan.com/" target="help">でんでんコンバーター</a>向けのフォーマットです。本ファイルをでんでんコンバーターにかけることでEPUBファイルを生成できます。エクスポートに際しては、以下の点に注意してください。</p>
  <ul>
    <li>保存前に、ツールバーの［シーンidをシャッフル］を実行してください（シーンは0からの連番でなければなりません）。</li>
    <li>変換時に使用できる既定のスタイルシート／設定ファイルは<a href="./template/denden.zip" target="help">こちらからダウンロード</a>できます。</li>
  </ul>
  <p>エクスポートを継続しても構いませんか？</p>
</div>

<!--ダイアログ（投稿）-->
<div id="upload-dialog" title="現在編集中のシナリオを投稿します（先に保存を推奨）">
  <p>投稿可能なシナリオデータの合計サイズ上限は8MBです。<br />上限を超える場合は複数回に分けてUploadしてください。</p>
  <table>
    <tr>
      <td>
        <div>
        <label title="メールアドレスは公開時の連絡先となります。投稿完了メールが届かない場合は入力ミスの可能性があるので、再投稿ください。">
          連絡先（メールアドレス）：<br />
          <input id="upload-email" type="email" required />
        </label>
        </div>
        <div>
        <label title="シナリオを検索する際のキーとなる情報です。複数カンマ区切りで指定できます。">
          分類：<br />
          <input id="upload-tag" type="text" />
        </label>
        </div>
        <div>
        <label title="シナリオの難易度目安です。管理者側で調整させて戴く場合もございます。">
          難易度：<br />
          <select id="upload-level">
            <option value="5">5（Hell）</option>
            <option value="4">4（Hard）</option>
            <option value="3" selected>3（Normal）</option>
            <option value="2">2（Easy）</option>
            <option value="1">1（Very Easy）</option>
          </select>
        </label>
        </div>
        <div>
        <label title="SText標準のBGM利用の場合はUpload不要です。">
          BGM（1MB/file未満を推奨）：<br />
          <input id="upload-bgms" type="file" accept=".mp3" multiple />
        </label>
        </div>
        <div>
        <label title="数秒程度の短い音声を推奨します。">
          効果音（30KB/file未満を推奨）：<br />
          <input id="upload-ses" type="file" accept=".mp3" multiple />
        </label>
        </div>
        <div>
        <label title="intro.png（120x180）をUpすることで公開時のイメージイラストとなります。">
          挿絵（100KB/file未満を推奨）：<br />
          <input id="upload-pics" type="file" accept=".png,.jpg,.jpeg" multiple />
        </label>
        </div>
      </td>
      <td>
        <div>
        <label>
          シナリオ紹介（2～300文字）：
          <textarea id="upload-intro" rows="9" required></textarea>
        </label>
        </div>
        <div>
        <label>
          作者より（80文字程度）：
          <textarea id="upload-comment" rows="4" required></textarea>
        </label>
        </div>
        <div>
          <label title="本項目をチェックすると、公開後FTPによる更新が可能になります（パスワードは別途通知）。">
            FTP Uploadを希望：
            <input id="upload-ftp" type="checkbox" value="★FTP希望★" />
          </label>
        </div>
      </td>
    </tr>
  </table>
</div>

<!--コンテキストメニュー（チャート）-->
<ul id="chart-menu" class="cxt">
  <li id="ctx-scene-add">シーン追加</li>
  <li id="ctx-scene-remove">シーン削除</li>
  <li id="ctx-edge-add">リンク追加</li>
</ul>

<!--コンテキストメニュー（タグ追加）-->
<ul id="tag-menu" class="cxt">
    <li id="tag-red" data-command="red">%red%</li>
    <li id="tag-blue" data-command="blue">%blue%</li>
    <li id="tag-white" data-command="white" class="sep">%white%</li>
    <li id="tag-if" data-command="if">${if}</li>
    <li id="tag-import" data-command="*import">${import}</li>
    <li id="tag-effect" data-command="effect">${effect}</li>
    <li id="tag-input" data-command="*input">${input}</li>
    <li id="tag-ruby" data-command="ruby" class="sep">${ruby}</li>
    <li id="tag-title" data-command="*title">${title}</li>
    <li id="tag-name" data-command="*name">${name}</li>
    <li id="tag-race" data-command="*race">${race}</li>
    <li id="tag-sex" data-command="*sex">${sex}</li>
    <li id="tag-state" data-command="*state">${state}</li>
    <li id="tag-age" data-command="*age">${age}</li>
    <li id="tag-var" data-command="*var">${var}</li>
    <li id="tag-random" data-command="*random">${random}</li>
    <li id="tag-msg" data-command="*msg" class="sep">${msg}</li>
    <li id="tag-tweet" data-command="tweet">${tweet}</li>
    <li id="tag-capture" data-command="*capture">![...]()</li>
  </ul>

<!--コンテキストメニュー（ダウンロード）-->
<ul id="dl-menu" class="cxt">
  <li id="dl-json" data-command="json">.json（Playground Native）</li>
  <li id="dl-xml"  data-command="xml">.xml（Scenario data）</li>
  <li id="dl-html"  data-command="html">.html（For Browser）</li>
  <li id="dl-epub"  data-command="epub">.txt（For EPUB:denden β）</li>
  <li id="dl-storage" data-command="storage">ブラウザーに保存</li>
</ul>

<!--コンテキストメニュー（ヘルプ）-->
<ul id="help-menu" class="cxt">
  <li id="help_pg"><a href="https://sorcerian.hateblo.jp/entry/2019/05/03/211951" target="help">Playground Flow入門</a></li>
  <li id="help_short"><a href="https://github.com/ajaxorg/ace/wiki/Default-Keyboard-Shortcuts" target="help">エディターショートカット</a></li>
  <li id="help_tech" class="sep"><a href="https://sorcerian.hateblo.jp/entries/2018/04/29" target="help">シナリオテクニック集</a></li>
  <li id="help_quest"><a href="https://github.com/snext1220/stext/releases" target="help">システム更新履歴</a></li>
  <li id="help_request" class="sep"><a href="https://github.com/snext1220/stext/discussions/265" target="help">システム改善要望</a></li>
  <li id="help_history"><a href="https://github.com/snext1220/stext/discussions/263" target="help">シナリオ制作に関する質問</a></li>
  <li id="help_trouble"><a href="https://github.com/snext1220/stext/discussions/303" target="help">トラブル問い合わせ</a></li>
</ul>
  
<!--jQuery & jQuery UI-->

<script src="../stext/jquery.min.js"></script>
<script src="./lib/jquery-ui.min.js"></script>
<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script> -->
<!--vis.js-->
<script src="./lib/vis.min.js"></script>
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script> -->
<!--SlickGrid-->
<script src="./lib/slick/lib/jquery.event.drag-2.3.0.js"></script>
<script src="./lib/slick/slick.core.js"></script>
<script src="./lib/slick/plugins/slick.cellrangedecorator.js"></script>
<script src="./lib/slick/plugins/slick.cellrangeselector.js"></script>
<script src="./lib/slick/plugins/slick.cellselectionmodel.js"></script>
<script src="./lib/slick/slick.formatters.js"></script>
<script src="./lib/slick/slick.editors.js"></script>
<script src="./lib/slick/slick.grid.js"></script>
<script src="./lib/slick/autocompleteEditor.js"></script>
<script src="./lib/slick/selectEditor.js"></script>
<!--Ace Editor-->
<script src="./lib/ace/ace.js"></script>
<!-- <script src="./lib/ace/ext-language_tools.js"></script> -->
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.3.0/ace.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.3.0/ext-language_tools.js"></script> -->
<!--Other-->
<script src="lib/marked.min.js"></script>
<script src="../stext/jquery.sidr.min.js"></script>
<!-- <script src="lib/jquery.tagsinput-revisited.js"></script> -->
<script src="lib/vkbeautify.js"></script>
<script src="lib/toastr.min.js"></script>
<!-- <script src="lib/jquery.splitter.js"></script> -->
<!--*****************暫定シャッフル**************************-->
<script src="lib/shuffle.js"></script>
<!--Playground-->
<script src="lib/playground.js?version=20220518"></script>
<!--Ptengine解析-->
<script type="text/javascript">
window._pt_lt = new Date().getTime();
window._pt_sp_2 = [];
_pt_sp_2.push('setAccount,17003b62');
var _protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
(function() {
    var atag = document.createElement('script'); atag.type = 'text/javascript'; atag.async = true;
    atag.src = _protocol + 'js.ptengine.jp/pta.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(atag, s);
})();
</script>
</body>
</html>
